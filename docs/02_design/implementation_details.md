# 実装詳細仕様書 (Implementation Details)

## 1. スマホ版メニュー (Mobile Navigation)

### 挙動
- **タイプ**: ドロワーメニュー (右からスライドイン)
- **トリガー**: ヘッダー右のハンバーガーアイコン (`header.php` に実装済み)
- **アニメーション**: `0.3s ease-in-out` で右からスライド表示。背景は黒の半透明 (`rgba(0,0,0,0.5)`) でオーバーレイ表示し、背景クリックでも閉じる。

### デザイン
- **背景色**: `White (#FFFFFF)`
- **文字色**: `Navy Blue (#0A192F)`
- **構成**:
    - 上部: 閉じるボタン (×アイコン)
    - 中部: メニューリンク (縦並び、ボーダー区切り)
    - 下部: 検索ボックス、SNSリンク

## 2. SEO・メタタグ実装 (SEO & Meta Tags)

`functions.php` または専用の `inc/seo.php` にて出力関数を実装し、`header.php` の `<head>` 内で呼び出す。

### 出力するタグ
- **Title**: `wp_title` (WordPress標準)
- **Description**:
    - トップ: `bloginfo('description')`
    - 記事/固定: `get_the_excerpt()` (なければ本文冒頭120文字)
    - その他: サイト名
- **OGP (Open Graph Protocol)**:
    - `og:title`: ページタイトル
    - `og:type`: `website` (トップ) / `article` (記事)
    - `og:url`: 現在のURL
    - `og:image`: アイキャッチ画像 (なければデフォルトのロゴ画像)
    - `og:site_name`: LogiShift
    - `og:description`: Descriptionと同じ
- **Twitter Card**: `summary_large_image`

## 3. 関連記事ロジック (Related Posts)

記事詳細ページ (`single.php`) 下部に表示する記事の選出ルール。

1.  **優先度**: 「同じカテゴリ」に属する記事を優先。
2.  **除外**: 現在表示している記事 ID は除外。
3.  **件数**: 3件 (PC/SP共通)
4.  **並び順**: ランダム (`orderby => rand`) または 新着順。今回は発見性を高めるため**ランダム**を推奨。
5.  **不足時**: 同じカテゴリの記事が足りない場合は表示しない (無理に他カテゴリを出さない)。

## 4. 404ページデザイン (404 Page)

- **メッセージ**:
    - H1: "404 Not Found"
    - 本文: "お探しの記事は見つかりませんでした。URLが変更されたか、削除された可能性があります。"
- **アクション**:
    - 検索ボックスを中央に配置。
    - 「トップページへ戻る」ボタン (Primary Button)。
    - 「新着記事」を数件表示し、離脱を防ぐ。

## 5. パンくずリストロジック (Breadcrumbs)

階層構造を明確にし、クローラーとユーザーに現在地を伝える。

- **構造**: `Home > [親カテゴリ] > [子カテゴリ] > 記事タイトル`
- **複数カテゴリの場合**:
    - 記事が複数のカテゴリに属している場合、**「最もIDが若いカテゴリ」** または **「Yoast SEO等でPrimary指定されたカテゴリ」** を採用するのが一般的。
    - 今回はプラグインなしのため、`get_the_category()` で取得した配列の **最初の1つ (`$cats[0]`)** を親として表示するシンプル実装とする。
